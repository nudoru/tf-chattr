/*! app-framework 25-07-2015 */
define("APP.Application",function(a,b,c){function d(){var b,c;e=this,b=this.createApplicationModel(a("APP.Model.AppModel")),c=this.createApplicationView(a("APP.View.AppView")),this.initializeApplication({model:b,view:c}),this.view().initialize(),this.model().initialize(),this.view().removeLoadingMessage(),this.setCurrentRoute(APP.router().getCurrentRoute()),this.view().render()}var e;c.initialize=d}),define("APP.Model.AppModel",function(a,b,c){function d(){j=this,k=j.createMapCollection({id:"UsersCollection"}),l=j.createMapCollection({id:"MessagesCollection"}),g("Sophie"),g("Gabe"),g("Casey"),g("Matt"),m.applicationModelInitialized()}function e(){return k}function f(){return l}function g(a){k.add(j.createMap({id:a,store:{username:a}}))}function h(a){k.remove(a)}function i(a,b){l.add(j.createMap({id:n++,store:{username:a,message:b}}))}{var j,k,l,m=a("Nori.Events.AppEventCreator"),n=1;a("Nori.Utils.Dispatcher")}c.initialize=d,c.getUsersCollection=e,c.getMessagesCollection=f,c.addUser=g,c.removeUser=h,c.addMessage=i}),define("APP.View.AppSubView",function(a,b,c){function d(a){this.isInitialized()||this.initializeSubView(a)}function e(){}c.initialize=d,c.viewWillUpdate=e}),define("APP.View.AppView",function(a,b,c){function d(){i=this,i.initializeApplicationView(["applicationscaffold","applicationcomponentsscaffold"]),i.setRouteViewMountPoint("#contents"),h(),APP.mapRouteView("/","default","APP.View.AppSubView"),APP.mapRouteView("/styles","debug-styletest","APP.View.AppSubView"),APP.mapRouteView("/controls","debug-controls","APP.View.AppSubView"),APP.mapRouteView("/comps","debug-components","APP.View.DebugControlsTestingSubView"),j.applicationViewInitialized()}function e(){i.setEvents({"change #nick-input":f,"change #message-input":g}),i.delegateEvents(),i.createComponent("user-list","APP.View.UserList","#users"),i.createComponent("message-list","APP.View.MessageList","#message"),i.renderComponent("user-list"),i.renderComponent("message-list")}function f(a){console.log("nickinput",a.target.value)}function g(a){console.log("mesageinput",a.target.value)}function h(){k.subscribe(l.NOTIFY_USER,function(a){i.notify(a.payload.message,a.payload.title,a.payload.type)}),k.subscribe(l.ALERT_USER,function(a){i.alert(a.payload.message,a.payload.title)})}{var i,j=a("Nori.Events.AppEventCreator"),k=a("Nori.Utils.Dispatcher"),l=a("Nori.Events.AppEventConstants");a("Nudoru.Browser.BrowserEventConstants")}c.initialize=d,c.render=e}),define("APP.View.DebugControlsTestingSubView",function(a,b,c){function d(a){this.isInitialized()||(l.initialize(),this.initializeSubView(a))}function e(){console.log(this.getID()+", subview did mount"),f=document.getElementById("action-one"),g=document.getElementById("action-two"),h=document.getElementById("action-three"),i=document.getElementById("action-four"),j=document.getElementById("action-five"),k=document.getElementById("action-six"),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"L",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. ",position:"B",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"R",targetEl:i,type:"information"}),m.add({title:"",content:"This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. This is a button, you click it dummy. ",position:"T",targetEl:i,type:"information"}),f.addEventListener("click",function(){Nori.view().addMessageBox({title:l.getSentence(2,4),content:l.getParagraph(2,4),type:"warning",modal:!0,width:500})}),g.addEventListener("click",function(){Nori.view().addMessageBox({title:l.getSentence(10,20),content:l.getParagraph(2,4),type:"default",modal:!1,buttons:[{label:"Yes",id:"yes",type:"default",icon:"check",onClick:function(){console.log("yes")}},{label:"Maybe",id:"maybe",type:"positive",icon:"cog",onClick:function(){console.log("maybe")}},{label:"Nope",id:"nope",type:"negative",icon:"times"}]})}),h.addEventListener("click",function(){Nori.view().addNotification({title:l.getSentence(3,6),type:"information",content:l.getParagraph(1,2)}),m.remove(i)}),i.addEventListener("click",function(){console.log("Four")}),j.addEventListener("click",function(){n.publish({type:o.CHANGE_ROUTE,payload:{route:"/one",data:{prop:"some data",moar:"25"}}})}),k.addEventListener("click",function(){n.publish({type:o.CHANGE_ROUTE,payload:{route:"/two"}})})}var f,g,h,i,j,k,l=a("Nudoru.Browser.NLorem"),m=a("Nudoru.Component.ToolTipView"),n=a("Nori.Utils.Dispatcher"),o=a("Nori.Events.AppEventConstants");c.initialize=d,c.viewDidMount=e}),define("APP.View.MessageList",function(a,b,c){function d(a){this.isInitialized()||(g=this,APP.registerViewForModelChanges("MessagesCollection",this.getID()),this.initializeSubView(a))}function e(){f()}function f(){var a=Object.create(null);g.setState(a)}var g;c.initialize=d,c.viewWillUpdate=e}),define("APP.View.UserList",function(a,b,c){function d(a){this.isInitialized()||(g=this,APP.registerViewForModelChanges("UsersCollection",this.getID()),this.initializeSubView(a))}function e(){f()}function f(){var a=Object.create(null);APP.model().getUsersCollection().forEach(function(b){var c=b.get("username");a[c]=c}),g.setState(a)}var g;c.initialize=d,c.viewWillUpdate=e}),function(){var a=require("Nudoru.Browser.BrowserInfo");a.notSupported||a.isIE9?document.querySelector("body").innerHTML="<h3>For the best experience, please use Internet Explorer 10+, Firefox, Chrome or Safari to view this application.</h3>":window.onload=function(){window.APP=Nori.createApplication(require("APP.Application")),APP.initialize()}}();